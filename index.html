<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang=""> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8" lang=""> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9" lang=""> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="">
<!--<![endif]-->

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Go2Sweden</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" href="apple-touch-icon.png">

    <link rel="stylesheet" href="assets/css/bootstrap.min.css">
    <!--        <link rel="stylesheet" href="assets/css/bootstrap-theme.min.css">-->


    <!--For Plugins external css-->
    <link rel="stylesheet" href="assets/css/plugins.css" />
    <link rel="stylesheet" href="assets/css/lora-web-font.css" />
    <link rel="stylesheet" href="assets/css/opensans-web-font.css" />
    <link rel="stylesheet" href="assets/css/magnific-popup.css">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp"
        crossorigin="anonymous">

    <!--Theme custom css -->
    <link rel="stylesheet" href="assets/css/style.css">

    <!--Theme Responsive css-->
    <link rel="stylesheet" href="assets/css/responsive.css" />
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>

    <script src="assets/js/vendor/modernizr-2.8.3-respond-1.4.2.min.js"></script>
</head>

<body data-spy="scroll" data-target="#main_navbar">
    <!--[if lt IE 8]>
            <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->
    <div class='preloader'>
        <div class='loaded'>&nbsp;</div>
    </div>
    <nav class="navbar navbar-default navbar-fixed-top navbar-inner" id="main_navbar">

        <div class="container-fluid custom-container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <a class="navbar-brand" href="index.html">
                <img src="assets/images/Logga.png" alt="logo" />
            </a>
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1"
                    aria-expanded="false">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>

            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="#home">Home</a>
                    </li>
                    <!--  <li><a href="#service">Services</a></li> -->
                    <li>
                        <a href="#portfolio">Directions</a>
                    </li>
                    <!--<li><a href="#schema">Schedule</a></li>-->
                    <li>
                        <a href="#cities">The cities</a>
                    </li>
                    <!-- <li><a href="#testimonial">Testimonials</a></li>
                            <li><a href="#contact">Contact</a></li> -->
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container-fluid -->
    </nav>

    <!--Home page style-->
    <header id="home" class="home">
        <div class="overlay">
            <div class="custom-container text-center">
                <div class="row">
                    <div class="home-wrapper">
                        <div class="col-md-12 col-sm-12 home-content ">
                            <h1>Go2Sweden</h1>
                            <h4>Sweden is the host for the 2024 Winter Olympics</h4>
                            <h1>Welcome</h1>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <section id="portfolio" class="portfolio lightbg sections">
        <div class="custom-container">
            <div class="heading text-center">
                <h1>Travel to Sweden</h1>
                <div class="separator"></div>
            </div>
            <div class="form-container">
                <form id="location-form">

                    <div class="form-group">
                        <label class="col-form-label">From</label>
                        <input type="text" class="form-control" placeholder="From" name="from" id="location-input" required>
                    </div>
                    <div class="form-group">
                        <label class="col-form-label">To</label>
                        <select class="category form-control" id="destination-input" required>
                            <option value="Stockholm, Sweden">Stockholm</option>
                            <option value="Åre, Sweden">Åre</option>
                            <option value="Falun, Sweden">Falun</option>
                        </select>

                    </div>

                    <div class="form-group">
                        <label class="col-form-label">Currency</label>
                        <select class="form-control" id="currency">
                            <option value="SEK">SEK</option>
                            <option value="USD">USD</option>
                        </select>

                    </div>

                    <button type="submit" class="submit" style="border: 1px solid black; margin-bottom: 15px;"><strong>Go</strong></button>
                </form>
            </div>
            <div id="location-output"></div>

            <!--
            <div class="tab color-black">
                <button class="tablinks" onclick="openRoutes(event, 'All')" id="defaultOpen">All</button>
                <button class="tablinks" onclick="openRoutes(event, 'Train')">Train</button>
                <button class="tablinks" onclick="openRoutes(event, 'Flight')">Flight</button>
                <button class="tablinks" onclick="openRoutes(event, 'Bus')">Bus</button>
                <button class="tablinks" onclick="openRoutes(event, 'Drive')">Drive</button>
            </div>
        -->
        <div id="output">
            <div id="all-routes"></div>
            <div id="map"></div>
        </div>
        <!--
            <div id="All" class="tabcontent">
            </div>

            <div id="Train" class="tabcontent">
                <div id="train-routes"></div>

            </div>

            <div id="Flight" class="tabcontent">
                <div id="fly-routes"></div>
            </div>

            <div id="Bus" class="tabcontent">
                <div id="bus-routes"></div>
            </div>

            <div id="Drive" class="tabcontent">
                <div id="drive-routes"></div>
            </div>-->
            
            <!--<div id="map"></div>-->

        </div>
    </section>
    <!-- End of portfolio-one Section -->

    <!-- Sections -->
    <!--
    <section id="cities" class="cities sections" style="overflow:hidden">
        <div class="custom-container">
            <div class="heading text-center">
                <h1>Our Cities</h1>
                <div class="separator"></div>
            </div>

            <div class="row">
                <div class="wrapper">
                    <div class="col-md-4 col-sm-6 col-xs-12">
                        <div class="service-item text-center">
                            <h5>Stockholm</h5>
                            <div class="separator2"></div>
                                <img src="https://pictures.europeandestinations.com/images/packages/sweden/stockholm-aerialview500.jpg" alt="sthlm" width="90%" height="200px">
                        </div>
                    </div>

                    <div class="col-md-4 col-sm-6 col-xs-12">
                        <div class="service-item text-center">
                            <h5>Falun</h5>
                            <div class="separator2"></div>
                                <img src="assets/images/falun.png" alt="falun" style="width:90%" height="200px">
                        </div>
                    </div>

                    <div class="col-md-4 col-sm-6 col-xs-12">
                        <div class="service-item text-center">
                            <h5>Åre</h5>
                            <div class="separator2"></div>
                                <img src="assets/images/are.png" alt="are" style="width:90%" height="200px">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    -->
        <!-- /container -->
        <!-- </section> -->

        <!-- Sections -->
        <section id="testimonial" class="testimonial lightbg sections">
            <div class="custom-container">
                <div class="heading text-center">
                    <h1>The cities</h1>
                    <div class="separator"></div>
                </div>

                <div class="row">
                    <div class="col-md-12" data-wow-delay="0.5s">
                        <div class="carousel slide" data-ride="carousel" id="quote-carousel">
                            <ol class="carousel-indicators">

                                <li data-target="#quote-carousel" data-slide-to="0" class="active">
                                    <img class="img-responsive" src="https://pictures.europeandestinations.com/images/packages/sweden/stockholm-aerialview500.jpg"
                                        alt="Stockholm">
                                </li>

                                <li data-target="#quote-carousel" data-slide-to="1">
                                    <img class="img-responsive" src="https://static0.tiendeo.se/galeria/poblacion/Falun/falun-048-70891228-jpg.jpg" alt="Falun">
                                </li>

                                <li data-target="#quote-carousel" data-slide-to="2">
                                    <img class="img-responsive" src="https://www.bokadirekt.se/DisplayMediaFile.axd?id=396690" alt="Åre">
                                </li>
                            </ol>

                            <div class="carousel-inner text-center margin-top-60">
                                <div class="item active">

                                    <div class="row">

                                        <div class="col-sm-6 col-sm-offset-3 details">

                                            <p>
                                                <strong>
                                                    Stockholm
                                                </strong>
                                                </p>
                                            <br>
                                            <p>
                                                Stockholm is the capital of Sweden, it has over 2 million residents.
                                                The city was built on 14 islands, connected by 57 bridges, earning
                                                the Swedish capital the nickname "Beauty on the Water".
                                            </p>
                                            <!--
                                            <small>
                                                <button id="BtnSthlm">Tourist Attractions</button>
                                                
                                                <div id="sthlmModal" class="modal">
                                                    
                                                    <div class="modal-content">
                                                        <span class="close">&times;</span>
                                                        <p>STOCKHOLM</p>
                                                    </div>
                                                </div>
                                            </small>
                                        -->
                                        </div>
                                    </div>
                                </div>
                                <div class="item">
                                    <div class="row">
                                        <div class="col-sm-6 col-sm-offset-3 details">
                                            <p>
                                                <strong>
                                                    Falun
                                                </strong>
                                            </p>
                                            <br>
                                            <p>Falun is known for having beautiful nature and residents with a passion for skiing.
                                                The city is relatively small with just under 40 000 residents but at the
                                                same time very active.
                                            </p>
                                            <!--
                                            <small>
                                                <button id="BtnFalun">Tourist Attractions</button>
                                                
                                                <div id="falunModal" class="modal">
                                                    
                                                    <div class="modal-content">
                                                        <span class="close1">&times;</span>
                                                        <p>FALUN</p>
                                                    </div>
                                                </div>
                                            </small>
                                        -->
                                        </div>
                                    </div>
                                </div>

                                <div class="item">
                                    <div class="row">
                                        <div class="col-sm-6 col-sm-offset-3 details">
                                            <p>
                                                <strong>
                                                    Åre
                                                </strong>
                                            </p>
                                            <br>
                                            <p>Åre is our #1 ski-resort here in Sweden. It attracts tourists who just wants
                                                to ski for fun aswell as elite skiers. Åre has so far hosted 2 World championships
                                                and 100 world cup races.
                                            </p>
                                            <!--
                                            <small>
                                                <button id="BtnAre">Tourist Attractions</button>
                                                
                                                <div id="areModal" class="modal">
                                                    
                                                    <div class="modal-content">
                                                        <span class="close2">&times;</span>
                                                        <p>ÅRE</p>
                                                    </div>
                                                </div>
                                            </small>
                                        -->
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!--
                            <a data-slide="prev" href="#quote-carousel" class="left carousel-control">
                                <i class="fa fa-chevron-left"></i>
                            </a>
                            <a data-slide="next" href="#quote-carousel" class="right carousel-control">
                                <i class="fa fa-chevron-right"></i>
                            </a>
                            -->
                        </div>
                    </div>
                </div>
            </div>
        </section>


        <!-- Sections -->
        <!-- <section id="contact" class="contact">
            <div class="container">
                
                <div class="row">

                    <div class="col-md-4 col-sm-6 col-xs-12">
                        <div class="contact-top">
                            <h1>Contact Us</h1>
                        </div>
                        <div class="contact-left-info">
                            <h5>Our Address</h5>
                            <p>House No,11132, Sector 31, Gurgaon 122001  India</p>
                        </div>

                        <div class="contact-left-info">
                            <h5>Call Us</h5>
                            <p>+ 91-9876543210</p>
                            <p>+ 91-9876543210</p>
                        </div>

                        <div class="contact-left-info">
                            <h5>Email Us</h5>
                            <p>contactus@email.com</p>
                        </div>
                    </div>
                    <div class="col-md-8 col-sm-6 col-xs-12">
                        <div class="contact-top navbar-collapse" id="bs-example-navbar-collapse-1">
                            <ul class="nav navbar-nav navbar-right bottom-nav">
                                <li><a href="#home">Home</a></li>
                                <li><a href="#service">Services</a></li>
                                <li><a href="#portfolio">Portfolio</a></li>
                                <li><a href="#testimonial">Testimonials</a></li>
                                <li><a href="#contact">Contact</a></li>
                            </ul>
                        </div>

                        <div class="contact-form">
                            <form action="" method="POST">
                                <div class="row">
                                    <div class="col-md-6 col-sm-12 col-xs-12">
                                        <div class="form-group">
                                            <label for="exampleInputEmail1">Name</label>
                                            <input type="text" class="form-control" id="exampleInputEmail1" placeholder="">
                                        </div>
                                    </div>

                                    <div class="col-md-6 col-sm-12 col-xs-12">
                                        <div class="form-group">
                                            <label for="exampleInputEmail1">Subject</label>
                                            <input type="text" class="form-control" id="exampleInputEmail1" placeholder="">
                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-md-12 col-sm-12 col-xs-12">
                                        <div class="form-group">
                                            <label for="exampleInputPassword1">Your Message</label>
                                            <textarea rows="7" class="form-control" id="exampleInputPassword1" placeholder=""></textarea>
                                        </div>
                                    </div>
                                </div>
                                <div class="contact-btn">
                                    <button type="submit" class="btn btn-primary">Send Message</button>
                                </div>
                            </form>
                        </div>
                    </div>

                </div>
            </div>     
        </section> -->

        <!--Footer-->
        <footer id="footer" class="footer">
            <div class="container">

                <div class="scroll-top">

                    <div class="scrollup">
                        <i class="fa fa-angle-up"></i>
                    </div>

                </div>
                <div class="row">
                    <div class="col-md-6 col-sm-6 col-xs-12">

                        <div class="copyright">
                            <p>&copy; 2018 GRUPP 2</p>
                        </div>
                    </div>
                </div>
            </div>
        </footer>


        <script src="assets/js/vendor/jquery-1.11.2.min.js"></script>
        <script src="assets/js/vendor/bootstrap.min.js"></script>
        <script src="assets/js/vendor/isotope.min.js"></script>
        <script src="assets/js/plugins.js"></script>
        <script src="assets/js/jquery.magnific-popup.js"></script>
        <script src="assets/js/main.js"></script>
        <script>

            var locationForm = document.getElementById('location-form');

            locationForm.addEventListener('submit', geocode);

            function geocode(e) {
                e.preventDefault();

                var routesList;

                var currency = document.getElementById('currency').value;

                var location = document.getElementById('location-input').value;
                var destination = document.getElementById('destination-input').value;
                axios.get('http://free.rome2rio.com/api/1.4/json/Search', {
                    params: {
                        oName: location,
                        dName: destination,
                        key: 'S2Q8spaR'
                    }
                })
                    .then(function (response) {

                        console.log(response);

                        showRoutes('all-routes', '', '');
                        /*
                        showRoutes('train-routes', 'Train', 'train');
                        showRoutes('fly-routes', 'Fly', 'fly');
                        showRoutes('bus-routes', 'Bus', 'bus');
                        showRoutes('drive-routes', 'Drive', 'drive');
                        */

                        var totalTimeMin;
                        var segmentTimeMin;
                        var totalPrice;
                        var placesList;
                        var vehiclesList;
                        var segmentsList;

                        var segmentPath;

                        function showRoutes(divRoutes, xType, type) {

                            routesList = response.data.routes;

                            var allOutput = `<div class="tabacc">`;

                            for (var i = 0; i < routesList.length; i++) {

                                if (routesList[i].name.includes(xType) || routesList[i].name.includes(type)) {

                                    allOutput += `
                                    <div id="div${i}">
                                    <input id="${i}" type="checkbox" name="tabs">
                                    <label class="label-item" for="${i}"><h5 class="color-black">`;
                                    if (routesList[i].name.includes('Train') || routesList[i].name.includes('train')) {
                                        allOutput += '<i class="fas fa-train icon-i"></i>';
                                    }
                                    if (routesList[i].name.includes('Bus') || routesList[i].name.includes('bus')) {
                                        allOutput += '<i class="fas fa-bus icon-i"></i>';
                                    }
                                    if (routesList[i].name.includes('Fly') || routesList[i].name.includes('fly')) {
                                        allOutput += '<i class="fas fa-plane icon-i"></i>';
                                    }
                                    if (routesList[i].name.includes('Drive') || routesList[i].name.includes('drive')) {
                                        allOutput += '<i class="fas fa-car icon-i"></i>';
                                    }
                                    if (routesList[i].name.includes('Walk') || routesList[i].name.includes('walk')) {
                                        allOutput += '<i class="fas fa-walking icon-i"></i>';
                                    }
                                    if (routesList[i].name.includes('Taxi') || routesList[i].name.includes('taxi') || routesList[i].name.includes('Uber') || routesList[i].name.includes('uber')) {
                                        allOutput += '<i class="fas fa-taxi icon-i"></i>';
                                    }
                                    if (routesList[i].name.includes('Ferry') || routesList[i].name.includes('ferry')) {
                                        allOutput += '<i class="fas fa-ship icon-i"></i>';
                                    }
                                    allOutput += `
                                    ${routesList[i].name}
                                    </h5>
                                    <p class="transport-time color-black">`;
                                    
                                    if(typeof routesList[i].indicativePrices !== 'undefined'){
                                        totalPrice = routesList[i].indicativePrices[0].price;
                                    }
                                    if (currency == 'SEK') {
                                        totalPrice = totalPrice * 8.6;
                                        totalPrice = Math.ceil(totalPrice);
                                    }

                                    totalTimeMin = convertTime(routesList[i].totalDuration);

                                    allOutput += `
                                    ${totalTimeMin}
                                    </br>
                                    <strong>`;

                                    if(typeof routesList[i].indicativePrices !== 'undefined'){
                                        if (currency == 'USD')
                                            allOutput += '$';

                                        allOutput += `${totalPrice}`;
                                        if (currency == 'SEK')
                                            allOutput += ' kr';
                                    }
                                    allOutput += `
                                    </strong>
                                    </p>
                                    </label>
                                    <div class="tab-content">
                                    <table class="table table-sm color-black">
                                    `;

                                    segmentsList = response.data.routes[i].segments;
                                    placesList = response.data.places;
                                    vehiclesList = response.data.vehicles;

                                    for (var j = 0; j < segmentsList.length; j++) {

                                        allOutput += `
                                    <tr><td>
                                    ${j + 1}.
                                    ${vehiclesList[segmentsList[j].vehicle].name} 
                                    from ${placesList[segmentsList[j].depPlace].shortName} 
                                    to ${placesList[segmentsList[j].arrPlace].shortName}
                                    </td><td style="text-align: right">`;

                                        segmentTimeMin = convertTime(segmentsList[j].transitDuration);

                                        allOutput += `
                                    ${segmentTimeMin}
                                    </td>
                                    </tr>
                                    `;
                                    }

                                    allOutput += `
                                    </table>
                                    </div>
                                    </div>
                                    `;
                                }

                                
                            }
                            allOutput += '</div>';

                            document.getElementById(divRoutes).innerHTML = allOutput;
                            /*
                            for(var i = 0; i < routesList.length; i++){
                                segmentsList = response.data.routes[i].segments;
                                for (var j = 0; j < segmentsList.length; j++){
                                    document.getElementById("div" + i).addEventListener("mouseover", mouseOver(segmentsList[j].path));
                                    document.getElementById("div" + i).addEventListener("mouseout", mouseOut(segmentsList[j].path));
                                }
                            }

                            function mouseOver(path) {
                            }

                            function mouseOut(path) {
                            }*/

                        }

                    })
                    .catch(function (error) {
                        console.log(error);
                    })
            }

/*
            function openRoutes(evt, transport) {
                var i, tabcontent, tablinks;
                tabcontent = document.getElementsByClassName("tabcontent");
                for (i = 0; i < tabcontent.length; i++) {
                    tabcontent[i].style.display = "none";
                }
                tablinks = document.getElementsByClassName("tablinks");
                for (i = 0; i < tablinks.length; i++) {
                    tablinks[i].className = tablinks[i].className.replace(" active", "");
                }
                document.getElementById(transport).style.display = "block";
                evt.currentTarget.className += " active";
            }
            document.getElementById("defaultOpen").click();*/

            function convertTime(n) {
                var num = n;
                var hours = (num / 60);
                var rhours = Math.floor(hours);
                var minutes = (hours - rhours) * 60;
                var rminutes = Math.round(minutes);
                if (rhours > 0 && rminutes > 0) {
                    return rhours + " h " + rminutes + " min";
                }
                else if (rhours > 0 && rminutes == 0) {
                    return rhours + " h";
                }
                else
                    return rminutes + " min";
            }
            
            /*function initMap() {
                var map = new google.maps.Map(document.getElementById('map'), {
                    zoom: 4,
                    center: { lat: 59.33258, lng: 18.0649 }
                });*/

                /*var transportPath = new google.maps.Polyline({
                    path: google.maps.geometry.encoding.decodePath(),
                    geodesic: true,
                    strokeColor: '#FF0000',
                    strokeOpacity: 1.0,
                    strokeWeight: 2
                })*/

            //transportPath.setMap(map);

            //}

        </script>
        <!--<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCnDF77c4DZf_Qaq2Y8n8j5gXvge6YuHFk&callback=initMap">-->
        </script>

</body>

</html>